"use strict";var ea=Object.create;var Ae=Object.defineProperty;var ta=Object.getOwnPropertyDescriptor;var ra=Object.getOwnPropertyNames;var aa=Object.getPrototypeOf,ia=Object.prototype.hasOwnProperty;var ft=function(r,e){return function(){return r&&(e=r(r=0)),e}};var B=function(r,e){return function(){return e||r((e={exports:{}}).exports,e),e.exports}},na=function(r,e){for(var t in e)Ae(r,t,{get:e[t],enumerable:!0})},pt=function(r,e,t,i){if(e&&typeof e=="object"||typeof e=="function")for(var a=ra(e),n=0,o=a.length,s;n<o;n++)s=a[n],!ia.call(r,s)&&s!==t&&Ae(r,s,{get:function(u){return e[u]}.bind(null,s),enumerable:!(i=ta(e,s))||i.enumerable});return r};var G=function(r,e,t){return t=r!=null?ea(aa(r)):{},pt(e||!r||!r.__esModule?Ae(t,"default",{value:r,enumerable:!0}):t,r)},oa=function(r){return pt(Ae({},"__esModule",{value:!0}),r)};var Q=B(function(tn,yt){var xe;typeof window!="undefined"?xe=window:typeof global!="undefined"?xe=global:typeof self!="undefined"?xe=self:xe={};yt.exports=xe});function U(r,e){return e!=null&&typeof Symbol!="undefined"&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](r):U(r,e)}var te=ft(function(){te()});function Ne(r){"@swc/helpers - typeof";return r&&typeof Symbol!="undefined"&&r.constructor===Symbol?"symbol":typeof r}var Qe=ft(function(){});var Ye=B(function(Ps,_r){var cr=Array.prototype.slice;_r.exports=Ca;function Ca(r,e){for(("length"in r)||(r=[r]),r=cr.call(r);r.length;){var t=r.shift(),i=e(t);if(i)return i;t.childNodes&&t.childNodes.length&&(r=cr.call(t.childNodes).concat(r))}}});var pr=B(function(Is,fr){te();fr.exports=ve;function ve(r,e){if(!U(this,ve))return new ve(r,e);this.data=r,this.nodeValue=r,this.length=r.length,this.ownerDocument=e||null}ve.prototype.nodeType=8;ve.prototype.nodeName="#comment";ve.prototype.toString=function(){return"[object Comment]"}});var vr=B(function(Ns,mr){te();mr.exports=ae;function ae(r,e){if(!U(this,ae))return new ae(r);this.data=r||"",this.length=this.data.length,this.ownerDocument=e||null}ae.prototype.type="DOMTextNode";ae.prototype.nodeType=3;ae.prototype.nodeName="#text";ae.prototype.toString=function(){return this.data};ae.prototype.replaceData=function(e,t,i){var a=this.data,n=a.substring(0,e),o=a.substring(e+t,a.length);this.data=n+i+o,this.length=this.data.length}});var Xe=B(function(Cs,hr){hr.exports=Ma;function Ma(r){var e=this,t=r.type;r.target||(r.target=e),e.listeners||(e.listeners={});var i=e.listeners[t];if(i)return i.forEach(function(a){r.currentTarget=e,typeof a=="function"?a(r):a.handleEvent(r)});e.parentNode&&e.parentNode.dispatchEvent(r)}});var $e=B(function(Ms,yr){yr.exports=Ha;function Ha(r,e){var t=this;t.listeners||(t.listeners={}),t.listeners[r]||(t.listeners[r]=[]),t.listeners[r].indexOf(e)===-1&&t.listeners[r].push(e)}});var Ze=B(function(Hs,gr){gr.exports=Ba;function Ba(r,e){var t=this;if(t.listeners&&t.listeners[r]){var i=t.listeners[r],a=i.indexOf(e);a!==-1&&i.splice(a,1)}}});var Er=B(function(Us,Tr){Qe();Tr.exports=br;var Ua=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"];function br(r){switch(r.nodeType){case 3:return et(r.data);case 8:return"<!--"+r.data+"-->";default:return Fa(r)}}function Fa(r){var e=[],t=r.tagName;return r.namespaceURI==="http://www.w3.org/1999/xhtml"&&(t=t.toLowerCase()),e.push("<"+t+Ga(r)+Wa(r)),Ua.indexOf(t)>-1?e.push(" />"):(e.push(">"),r.childNodes.length?e.push.apply(e,r.childNodes.map(br)):r.textContent||r.innerText?e.push(et(r.textContent||r.innerText)):r.innerHTML&&e.push(r.innerHTML),e.push("</"+t+">")),e.join("")}function Va(r,e){var t=Ne(r[e]);return e==="style"&&Object.keys(r.style).length>0?!0:r.hasOwnProperty(e)&&(t==="string"||t==="boolean"||t==="number")&&e!=="nodeName"&&e!=="className"&&e!=="tagName"&&e!=="textContent"&&e!=="innerText"&&e!=="namespaceURI"&&e!=="innerHTML"}function ja(r){if(typeof r=="string")return r;var e="";return Object.keys(r).forEach(function(t){var i=r[t];t=t.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()}),e+=t+":"+i+";"}),e}function Wa(r){var e=r.dataset,t=[];for(var i in e)t.push({name:"data-"+i,value:e[i]});return t.length?wr(t):""}function wr(r){var e=[];return r.forEach(function(t){var i=t.name,a=t.value;i==="style"&&(a=ja(a)),e.push(i+'="'+Ja(a)+'"')}),e.length?" "+e.join(" "):""}function Ga(r){var e=[];for(var t in r)Va(r,t)&&e.push({name:t,value:r[t]});for(var i in r._attributes)for(var a in r._attributes[i]){var n=r._attributes[i][a],o=(n.prefix?n.prefix+":":"")+a;e.push({name:o,value:n.value})}return r.className&&e.push({name:"class",value:r.className}),e.length?wr(e):""}function et(r){var e="";return typeof r=="string"?e=r:r&&(e=r.toString()),e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ja(r){return et(r).replace(/"/g,"&quot;")}});var rt=B(function(Vs,xr){te();var tt=Ye(),Qa=Xe(),za=$e(),Ka=Ze(),Ya=Er(),kr="http://www.w3.org/1999/xhtml";xr.exports=I;function I(r,e,t){if(!U(this,I))return new I(r);var i=t===void 0?kr:t||null;this.tagName=i===kr?String(r).toUpperCase():r,this.nodeName=this.tagName,this.className="",this.dataset={},this.childNodes=[],this.parentNode=null,this.style={},this.ownerDocument=e||null,this.namespaceURI=i,this._attributes={},this.tagName==="INPUT"&&(this.type="text")}I.prototype.type="DOMElement";I.prototype.nodeType=1;I.prototype.appendChild=function(e){return e.parentNode&&e.parentNode.removeChild(e),this.childNodes.push(e),e.parentNode=this,e};I.prototype.replaceChild=function(e,t){e.parentNode&&e.parentNode.removeChild(e);var i=this.childNodes.indexOf(t);return t.parentNode=null,this.childNodes[i]=e,e.parentNode=this,t};I.prototype.removeChild=function(e){var t=this.childNodes.indexOf(e);return this.childNodes.splice(t,1),e.parentNode=null,e};I.prototype.insertBefore=function(e,t){e.parentNode&&e.parentNode.removeChild(e);var i=t==null?-1:this.childNodes.indexOf(t);return i>-1?this.childNodes.splice(i,0,e):this.childNodes.push(e),e.parentNode=this,e};I.prototype.setAttributeNS=function(e,t,i){var a=null,n=t,o=t.indexOf(":");if(o>-1&&(a=t.substr(0,o),n=t.substr(o+1)),this.tagName==="INPUT"&&t==="type")this.type=i;else{var s=this._attributes[e]||(this._attributes[e]={});s[n]={value:i,prefix:a}}};I.prototype.getAttributeNS=function(e,t){var i=this._attributes[e],a=i&&i[t]&&i[t].value;return this.tagName==="INPUT"&&t==="type"?this.type:typeof a!="string"?null:a};I.prototype.removeAttributeNS=function(e,t){var i=this._attributes[e];i&&delete i[t]};I.prototype.hasAttributeNS=function(e,t){var i=this._attributes[e];return!!i&&t in i};I.prototype.setAttribute=function(e,t){return this.setAttributeNS(null,e,t)};I.prototype.getAttribute=function(e){return this.getAttributeNS(null,e)};I.prototype.removeAttribute=function(e){return this.removeAttributeNS(null,e)};I.prototype.hasAttribute=function(e){return this.hasAttributeNS(null,e)};I.prototype.removeEventListener=Ka;I.prototype.addEventListener=za;I.prototype.dispatchEvent=Qa;I.prototype.focus=function(){};I.prototype.toString=function(){return Ya(this)};I.prototype.getElementsByClassName=function(e){var t=e.split(" "),i=[];return tt(this,function(a){if(a.nodeType===1){var n=a.className||"",o=n.split(" ");t.every(function(s){return o.indexOf(s)!==-1})&&i.push(a)}}),i};I.prototype.getElementsByTagName=function(e){e=e.toLowerCase();var t=[];return tt(this.childNodes,function(i){i.nodeType===1&&(e==="*"||i.tagName.toLowerCase()===e)&&t.push(i)}),t};I.prototype.contains=function(e){return tt(this,function(t){return e===t})||!1}});var Sr=B(function(Ws,Dr){te();var at=rt();Dr.exports=K;function K(r){if(!U(this,K))return new K;this.childNodes=[],this.parentNode=null,this.ownerDocument=r||null}K.prototype.type="DocumentFragment";K.prototype.nodeType=11;K.prototype.nodeName="#document-fragment";K.prototype.appendChild=at.prototype.appendChild;K.prototype.replaceChild=at.prototype.replaceChild;K.prototype.removeChild=at.prototype.removeChild;K.prototype.toString=function(){return this.childNodes.map(function(e){return String(e)}).join("")}});var Rr=B(function(Gs,qr){qr.exports=it;function it(r){}it.prototype.initEvent=function(e,t,i){this.type=e,this.bubbles=t,this.cancelable=i};it.prototype.preventDefault=function(){}});var Pr=B(function(Qs,Ar){te();var Xa=Ye(),$a=pr(),Za=vr(),qe=rt(),ei=Sr(),ti=Rr(),ri=Xe(),ai=$e(),ii=Ze();Ar.exports=Ue;function Ue(){if(!U(this,Ue))return new Ue;this.head=this.createElement("head"),this.body=this.createElement("body"),this.documentElement=this.createElement("html"),this.documentElement.appendChild(this.head),this.documentElement.appendChild(this.body),this.childNodes=[this.documentElement],this.nodeType=9}var j=Ue.prototype;j.createTextNode=function(e){return new Za(e,this)};j.createElementNS=function(e,t){var i=e===null?null:String(e);return new qe(t,this,i)};j.createElement=function(e){return new qe(e,this)};j.createDocumentFragment=function(){return new ei(this)};j.createEvent=function(e){return new ti(e)};j.createComment=function(e){return new $a(e,this)};j.getElementById=function(e){e=String(e);var t=Xa(this.childNodes,function(i){if(String(i.id)===e)return i});return t||null};j.getElementsByClassName=qe.prototype.getElementsByClassName;j.getElementsByTagName=qe.prototype.getElementsByTagName;j.contains=qe.prototype.contains;j.removeEventListener=ii;j.addEventListener=ai;j.dispatchEvent=ri});var Ir=B(function(zs,Or){var ni=Pr();Or.exports=new ni});var nt=B(function(Ks,Nr){var Lr=typeof global!="undefined"?global:typeof window!="undefined"?window:{},oi=Ir(),Re;typeof document!="undefined"?Re=document:(Re=Lr["__GLOBAL_DOCUMENT_CACHE@4"],Re||(Re=Lr["__GLOBAL_DOCUMENT_CACHE@4"]=oi));Nr.exports=Re});var Vi={};na(Vi,{default:function(){return Fi}});module.exports=oa(Vi);function mt(r){if(Array.isArray(r))return r}function vt(r,e){var t=r==null?null:typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var i=[],a=!0,n=!1,o,s;try{for(t=t.call(r);!(a=(o=t.next()).done)&&(i.push(o.value),!(e&&i.length===e));a=!0);}catch(u){n=!0,s=u}finally{try{!a&&t.return!=null&&t.return()}finally{if(n)throw s}}return i}}function ht(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ke(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=r[t];return i}function Pe(r,e){if(r){if(typeof r=="string")return ke(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(t);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ke(r,e)}}function H(r,e){return mt(r)||vt(r,e)||Pe(r,e)||ht()}var be=G(Q());var Je=G(Q());var gt=G(Q()),sa={now:function(){var r=gt.default.performance,e=r&&r.timing,t=e&&e.navigationStart,i=typeof t=="number"&&typeof r.now=="function"?t+r.now():Date.now();return Math.round(i)}},A=sa;var ee=function(){var e,t,i;if(typeof((e=Je.default.crypto)===null||e===void 0?void 0:e.getRandomValues)=="function"){i=new Uint8Array(32),Je.default.crypto.getRandomValues(i);for(var a=0;a<32;a++)i[a]=i[a]%16}else{i=[];for(var n=0;n<32;n++)i[n]=Math.random()*16|0}var o=0;t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(f){var g=f==="x"?i[o]:i[o]&3|8;return o++,g.toString(16)});var s=A.now(),u=s==null?void 0:s.toString(16).substring(3);return u?t.substring(0,28)+u:t},Oe=function(){return("000000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6)};var J=function(e){if(e&&typeof e.nodeName!="undefined")return e.muxId||(e.muxId=Oe()),e.muxId;var t;try{t=document.querySelector(e)}catch(i){}return t&&!t.muxId&&(t.muxId=e),(t==null?void 0:t.muxId)||e},se=function(e){var t;e&&typeof e.nodeName!="undefined"?(t=e,e=J(t)):t=document.querySelector(e);var i=t&&t.nodeName?t.nodeName.toLowerCase():"";return[t,e,i]};function bt(r){if(Array.isArray(r))return ke(r)}function wt(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Tt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function V(r){return bt(r)||wt(r)||Pe(r)||Tt()}var Y={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},Et=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,t,i,a,n,o,s=r?[console,r]:[console],u=(t=console.trace).bind.apply(t,V(s)),f=(i=console.info).bind.apply(i,V(s)),g=(a=console.debug).bind.apply(a,V(s)),k=(n=console.warn).bind.apply(n,V(s)),h=(o=console.error).bind.apply(o,V(s)),c=e;return{trace:function(){for(var w=arguments.length,x=new Array(w),v=0;v<w;v++)x[v]=arguments[v];if(!(c>Y.TRACE))return u.apply(void 0,V(x))},debug:function(){for(var w=arguments.length,x=new Array(w),v=0;v<w;v++)x[v]=arguments[v];if(!(c>Y.DEBUG))return g.apply(void 0,V(x))},info:function(){for(var w=arguments.length,x=new Array(w),v=0;v<w;v++)x[v]=arguments[v];if(!(c>Y.INFO))return f.apply(void 0,V(x))},warn:function(){for(var w=arguments.length,x=new Array(w),v=0;v<w;v++)x[v]=arguments[v];if(!(c>Y.WARN))return k.apply(void 0,V(x))},error:function(){for(var w=arguments.length,x=new Array(w),v=0;v<w;v++)x[v]=arguments[v];if(!(c>Y.ERROR))return h.apply(void 0,V(x))},get level(){return c},set level(m){m!==this.level&&(c=m!=null?m:e)}}};var R=Et("[mux]");var Ie=G(Q());function ce(){var r=Ie.default.doNotTrack||Ie.default.navigator&&Ie.default.navigator.doNotTrack;return r==="1"}function b(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}te();function D(r,e){if(!U(r,e))throw new TypeError("Cannot call a class as a function")}function kt(r,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function N(r,e,t){return e&&kt(r.prototype,e),t&&kt(r,t),r}function l(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function X(r){return X=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},X(r)}function xt(r,e){for(;!Object.prototype.hasOwnProperty.call(r,e)&&(r=X(r),r!==null););return r}function De(r,e,t){return typeof Reflect!="undefined"&&Reflect.get?De=Reflect.get:De=function(a,n,o){var s=xt(a,n);if(s){var u=Object.getOwnPropertyDescriptor(s,n);return u.get?u.get.call(o||a):u.value}},De(r,e,t||r)}function Le(r,e){return Le=Object.setPrototypeOf||function(i,a){return i.__proto__=a,i},Le(r,e)}function Dt(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Le(r,e)}function St(r,e){if(r==null)return{};var t={},i=Object.keys(r),a,n;for(n=0;n<i.length;n++)a=i[n],!(e.indexOf(a)>=0)&&(t[a]=r[a]);return t}function qt(r,e){if(r==null)return{};var t=St(r,e),i,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(t[i]=r[i])}return t}function Rt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}Qe();function At(r,e){return e&&(Ne(e)==="object"||typeof e=="function")?e:b(r)}function Pt(r){var e=Rt();return function(){var i=X(r),a;if(e){var n=X(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return At(this,a)}}var F=function(r){return re(r)[0]};var re=function(r){if(typeof r!="string"||r==="")return["localhost"];var e=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,t=r.match(e)||[],i=t[4],a;return i&&(a=(i.match(/[^\.]+\.[^\.]+$/)||[])[0]),[i,a]};var Ce=G(Q()),ua={exists:function(){var r=Ce.default.performance,e=r&&r.timing;return e!==void 0},domContentLoadedEventEnd:function(){var r=Ce.default.performance,e=r&&r.timing;return e&&e.domContentLoadedEventEnd},navigationStart:function(){var r=Ce.default.performance,e=r&&r.timing;return e&&e.navigationStart}},_e=ua;function P(r,e,t){t=t===void 0?1:t,r[e]=r[e]||0,r[e]+=t}function ue(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.forEach(function(a){l(r,a,t[a])})}return r}function da(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,i)}return t}function fe(r,e){return e=e!=null?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):da(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}),r}var la=["x-cdn","content-type"],Ot=["x-request-id","cf-ray","x-amz-cf-id","x-akamai-request-id"],ca=la.concat(Ot);function pe(r){r=r||"";var e={},t=r.trim().split(/[\r\n]+/);return t.forEach(function(i){if(i){var a=i.split(": "),n=a.shift();n&&(ca.indexOf(n.toLowerCase())>=0||n.toLowerCase().indexOf("x-litix-")===0)&&(e[n]=a.join(": "))}}),e}function de(r){if(r){var e=Ot.find(function(t){return r[t]!==void 0});return e?r[e]:void 0}}var _a=function(r){var e={};for(var t in r){var i=r[t],a=i["DATA-ID"].search("io.litix.data.");if(a!==-1){var n=i["DATA-ID"].replace("io.litix.data.","");e[n]=i.VALUE}}return e},Me=_a;var He=function(r){if(!r)return{};var e=_e.navigationStart(),t=r.loading,i=t?t.start:r.trequest,a=t?t.first:r.tfirst,n=t?t.end:r.tload;return{bytesLoaded:r.total,requestStart:Math.round(e+i),responseStart:Math.round(e+a),responseEnd:Math.round(e+n)}},Se=function(r){if(!(!r||typeof r.getAllResponseHeaders!="function"))return pe(r.getAllResponseHeaders())},It=function(r,e,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0,n=r.log,o=r.utils.secondsToMs,s=function(v){var p=parseInt(a.version),_;return p===1&&v.programDateTime!==null&&(_=v.programDateTime),p===0&&v.pdt!==null&&(_=v.pdt),_};if(!_e.exists()){n.warn("performance timing not supported. Not tracking HLS.js.");return}var u=function(v,p){return r.emit(e,v,p)},f=function(v,p){var _=p.levels,d=p.audioTracks,y=p.url,T=p.stats,E=p.networkDetails,S=p.sessionData,L={},M={};_.forEach(function(W,oe){L[oe]={width:W.width,height:W.height,bitrate:W.bitrate,attrs:W.attrs}}),d.forEach(function(W,oe){M[oe]={name:W.name,language:W.lang,bitrate:W.bitrate}});var O=He(T),q=O.bytesLoaded,Z=O.requestStart,we=O.responseStart,Te=O.responseEnd;u("requestcompleted",fe(ue({},Me(S)),{request_event_type:v,request_bytes_loaded:q,request_start:Z,request_response_start:we,request_response_end:Te,request_type:"manifest",request_hostname:F(y),request_response_headers:Se(E),request_rendition_lists:{media:L,audio:M,video:{}}}))};t.on(a.Events.MANIFEST_LOADED,f);var g=function(v,p){var _=p.details,d=p.level,y=p.networkDetails,T=p.stats,E=He(T),S=E.bytesLoaded,L=E.requestStart,M=E.responseStart,O=E.responseEnd,q=_.fragments[_.fragments.length-1],Z=s(q)+o(q.duration);u("requestcompleted",{request_event_type:v,request_bytes_loaded:S,request_start:L,request_response_start:M,request_response_end:O,request_current_level:d,request_type:"manifest",request_hostname:F(_.url),request_response_headers:Se(y),video_holdback:_.holdBack&&o(_.holdBack),video_part_holdback:_.partHoldBack&&o(_.partHoldBack),video_part_target_duration:_.partTarget&&o(_.partTarget),video_target_duration:_.targetduration&&o(_.targetduration),video_source_is_live:_.live,player_manifest_newest_program_time:isNaN(Z)?void 0:Z})};t.on(a.Events.LEVEL_LOADED,g);var k=function(v,p){var _=p.details,d=p.networkDetails,y=p.stats,T=He(y),E=T.bytesLoaded,S=T.requestStart,L=T.responseStart,M=T.responseEnd;u("requestcompleted",{request_event_type:v,request_bytes_loaded:E,request_start:S,request_response_start:L,request_response_end:M,request_type:"manifest",request_hostname:F(_.url),request_response_headers:Se(d)})};t.on(a.Events.AUDIO_TRACK_LOADED,k);var h=function(v,p){var _=p.stats,d=p.networkDetails,y=p.frag;_=_||y.stats;var T=He(_),E=T.bytesLoaded,S=T.requestStart,L=T.responseStart,M=T.responseEnd,O=d?Se(d):void 0,q={request_event_type:v,request_bytes_loaded:E,request_start:S,request_response_start:L,request_response_end:M,request_hostname:d?F(d.responseURL):void 0,request_id:O?de(O):void 0,request_response_headers:O,request_media_duration:y.duration,request_url:d==null?void 0:d.responseURL};y.type==="main"?(q.request_type="media",q.request_current_level=y.level,q.request_video_width=(t.levels[y.level]||{}).width,q.request_video_height=(t.levels[y.level]||{}).height,q.request_labeled_bitrate=(t.levels[y.level]||{}).bitrate):q.request_type=y.type,u("requestcompleted",q)};t.on(a.Events.FRAG_LOADED,h);var c=function(v,p){var _=p.frag,d=_.start,y=s(_),T={currentFragmentPDT:y,currentFragmentStart:o(d)};u("fragmentchange",T)};t.on(a.Events.FRAG_CHANGED,c);var m=function(v,p){var _=p.type,d=p.details,y=p.response,T=p.fatal,E=p.frag,S=p.networkDetails,L=(E==null?void 0:E.url)||p.url||"",M=S?Se(S):void 0;if((d===a.ErrorDetails.MANIFEST_LOAD_ERROR||d===a.ErrorDetails.MANIFEST_LOAD_TIMEOUT||d===a.ErrorDetails.FRAG_LOAD_ERROR||d===a.ErrorDetails.FRAG_LOAD_TIMEOUT||d===a.ErrorDetails.LEVEL_LOAD_ERROR||d===a.ErrorDetails.LEVEL_LOAD_TIMEOUT||d===a.ErrorDetails.AUDIO_TRACK_LOAD_ERROR||d===a.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT||d===a.ErrorDetails.SUBTITLE_LOAD_ERROR||d===a.ErrorDetails.SUBTITLE_LOAD_TIMEOUT||d===a.ErrorDetails.KEY_LOAD_ERROR||d===a.ErrorDetails.KEY_LOAD_TIMEOUT)&&u("requestfailed",{request_error:d,request_url:L,request_hostname:F(L),request_id:M?de(M):void 0,request_type:d===a.ErrorDetails.FRAG_LOAD_ERROR||d===a.ErrorDetails.FRAG_LOAD_TIMEOUT?"media":d===a.ErrorDetails.AUDIO_TRACK_LOAD_ERROR||d===a.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT?"audio":d===a.ErrorDetails.SUBTITLE_LOAD_ERROR||d===a.ErrorDetails.SUBTITLE_LOAD_TIMEOUT?"subtitle":d===a.ErrorDetails.KEY_LOAD_ERROR||d===a.ErrorDetails.KEY_LOAD_TIMEOUT?"encryption":"manifest",request_error_code:y==null?void 0:y.code,request_error_text:y==null?void 0:y.text}),T){var O,q="".concat(L?"url: ".concat(L,"\n"):"")+"".concat(y&&(y.code||y.text)?"response: ".concat(y.code,", ").concat(y.text,"\n"):"")+"".concat(p.reason?"failure reason: ".concat(p.reason,"\n"):"")+"".concat(p.level?"level: ".concat(p.level,"\n"):"")+"".concat(p.parent?"parent stream controller: ".concat(p.parent,"\n"):"")+"".concat(p.buffer?"buffer length: ".concat(p.buffer,"\n"):"")+"".concat(p.error?"error: ".concat(p.error,"\n"):"")+"".concat(p.event?"event: ".concat(p.event,"\n"):"")+"".concat(p.err?"error message: ".concat((O=p.err)===null||O===void 0?void 0:O.message,"\n"):"");u("error",{player_error_code:_,player_error_message:d,player_error_context:q})}};t.on(a.Events.ERROR,m);var w=function(v,p){var _=p.frag,d=_&&_._url||"";u("requestcanceled",{request_event_type:v,request_url:d,request_type:"media",request_hostname:F(d)})};t.on(a.Events.FRAG_LOAD_EMERGENCY_ABORTED,w);var x=function(v,p){var _=p.level,d=t.levels[_];if(d&&d.attrs&&d.attrs.BANDWIDTH){var y=d.attrs.BANDWIDTH,T,E=parseFloat(d.attrs["FRAME-RATE"]);isNaN(E)||(T=E),y?u("renditionchange",{video_source_fps:T,video_source_bitrate:y,video_source_width:d.width,video_source_height:d.height,video_source_rendition_name:d.name,video_source_codec:d==null?void 0:d.videoCodec}):n.warn("missing BANDWIDTH from HLS manifest parsed by HLS.js")}};t.on(a.Events.LEVEL_SWITCHED,x),t._stopMuxMonitor=function(){t.off(a.Events.MANIFEST_LOADED,f),t.off(a.Events.LEVEL_LOADED,g),t.off(a.Events.AUDIO_TRACK_LOADED,k),t.off(a.Events.FRAG_LOADED,h),t.off(a.Events.FRAG_CHANGED,c),t.off(a.Events.ERROR,m),t.off(a.Events.FRAG_LOAD_EMERGENCY_ABORTED,w),t.off(a.Events.LEVEL_SWITCHED,x),t.off(a.Events.DESTROYING,t._stopMuxMonitor),delete t._stopMuxMonitor},t.on(a.Events.DESTROYING,t._stopMuxMonitor)},Lt=function(r){r&&typeof r._stopMuxMonitor=="function"&&r._stopMuxMonitor()};var Nt=function(r,e){if(!r||!r.requestEndDate)return{};var t=F(r.url),i=r.url,a=r.bytesLoaded,n=new Date(r.requestStartDate).getTime(),o=new Date(r.firstByteDate).getTime(),s=new Date(r.requestEndDate).getTime(),u=isNaN(r.duration)?0:r.duration,f=typeof e.getMetricsFor=="function"?e.getMetricsFor(r.mediaType).HttpList:e.getDashMetrics().getHttpRequests(r.mediaType),g;f.length>0&&(g=pe(f[f.length-1]._responseHeaders||""));var k=g?de(g):void 0;return{requestStart:n,requestResponseStart:o,requestResponseEnd:s,requestBytesLoaded:a,requestResponseHeaders:g,requestMediaDuration:u,requestHostname:t,requestUrl:i,requestId:k}},fa=function(r,e){var t=e.getQualityFor(r),i=e.getCurrentTrackFor(r).bitrateList;return i?{currentLevel:t,renditionWidth:i[t].width||null,renditionHeight:i[t].height||null,renditionBitrate:i[t].bandwidth}:{}},pa=function(r){var e;return(e=r.match(/.*codecs\*?="(.*)"/))===null||e===void 0?void 0:e[1]},ma=function(e){try{var t,i,a=(i=e.getVersion)===null||i===void 0||(t=i.call(e))===null||t===void 0?void 0:t.split(".").map(function(n){return parseInt(n)})[0];return a}catch(n){return!1}},Ct=function(r,e,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=r.log;if(!t||!t.on){a.warn("Invalid dash.js player reference. Monitoring blocked.");return}var n=ma(t),o=function(_,d){return r.emit(e,_,d)},s=function(_){var d=_.type,y=_.data,T=(y||{}).url;o("requestcompleted",{request_event_type:d,request_start:0,request_response_start:0,request_response_end:0,request_bytes_loaded:-1,request_type:"manifest",request_hostname:F(T),request_url:T})};t.on("manifestLoaded",s);var u={},f=function(_){if(typeof _.getRequests!="function")return null;var d=_.getRequests({state:"executed"});return d.length===0?null:d[d.length-1]},g=function(_){var d=_.type,y=_.fragmentModel,T=_.chunk,E=f(y);k({type:d,request:E,chunk:T})},k=function(_){var d=_.type,y=_.chunk,T=_.request,E=(y||{}).mediaInfo,S=E||{},L=S.type,M=S.bitrateList;M=M||[];var O={};M.forEach(function(Ee,z){O[z]={},O[z].width=Ee.width,O[z].height=Ee.height,O[z].bitrate=Ee.bandwidth,O[z].attrs={}}),L==="video"?u.video=O:L==="audio"?u.audio=O:u.media=O;var q=Nt(T,t),Z=q.requestStart,we=q.requestResponseStart,Te=q.requestResponseEnd,W=q.requestResponseHeaders,oe=q.requestMediaDuration,je=q.requestHostname,We=q.requestUrl,Ge=q.requestId;o("requestcompleted",{request_event_type:d,request_start:Z,request_response_start:we,request_response_end:Te,request_bytes_loaded:-1,request_type:L+"_init",request_response_headers:W,request_hostname:je,request_id:Ge,request_url:We,request_media_duration:oe,request_rendition_lists:u})};n>=4?t.on("initFragmentLoaded",k):t.on("initFragmentLoaded",g);var h=function(_){var d=_.type,y=_.fragmentModel,T=_.chunk,E=f(y);c({type:d,request:E,chunk:T})},c=function(_){var d=_.type,y=_.chunk,T=_.request,E=y||{},S=E.mediaInfo,L=E.start,M=S||{},O=M.type,q=Nt(T,t),Z=q.requestStart,we=q.requestResponseStart,Te=q.requestResponseEnd,W=q.requestBytesLoaded,oe=q.requestResponseHeaders,je=q.requestMediaDuration,We=q.requestHostname,Ge=q.requestUrl,Ee=q.requestId,z=fa(O,t),Yr=z.currentLevel,Xr=z.renditionWidth,$r=z.renditionHeight,Zr=z.renditionBitrate;o("requestcompleted",{request_event_type:d,request_start:Z,request_response_start:we,request_response_end:Te,request_bytes_loaded:W,request_type:O,request_response_headers:oe,request_hostname:We,request_id:Ee,request_url:Ge,request_media_start_time:L,request_media_duration:je,request_current_level:Yr,request_labeled_bitrate:Zr,request_video_width:Xr,request_video_height:$r})};n>=4?t.on("mediaFragmentLoaded",c):t.on("mediaFragmentLoaded",h);var m={video:void 0,audio:void 0,totalBitrate:void 0},w=function(){if(m.video&&typeof m.video.bitrate=="number"){if(!(m.video.width&&m.video.height)){a.warn("have bitrate info for video but missing width/height");return}var _=m.video.bitrate;if(m.audio&&typeof m.audio.bitrate=="number"&&(_+=m.audio.bitrate),_!==m.totalBitrate)return m.totalBitrate=_,{video_source_bitrate:_,video_source_height:m.video.height,video_source_width:m.video.width,video_source_codec:pa(m.video.codec)}}},x=function(_,d,y){if(typeof _.newQuality!="number"){a.warn("missing evt.newQuality in qualityChangeRendered event",_);return}var T=_.mediaType;if(T==="audio"||T==="video"){var E=t.getBitrateInfoListFor(T).find(function(L){var M=L.qualityIndex;return M===_.newQuality});if(!(E&&typeof E.bitrate=="number")){a.warn("missing bitrate info for ".concat(T));return}m[T]=fe(ue({},E),{codec:t.getCurrentTrackFor(T).codec});var S=w();S&&o("renditionchange",S)}};t.on("qualityChangeRendered",x);var v=function(_){var d=_.request,y=_.mediaType;d=d||{},o("requestcanceled",{request_event_type:d.type+"_"+d.action,request_url:d.url,request_type:y,request_hostname:F(d.url)})};t.on("fragmentLoadingAbandoned",v);var p=function(_){var d=_.error,y,T,E=(d==null||(y=d.data)===null||y===void 0?void 0:y.request)||{},S=(d==null||(T=d.data)===null||T===void 0?void 0:T.response)||{};(d==null?void 0:d.code)===27&&o("requestfailed",{request_error:E.type+"_"+E.action,request_url:E.url,request_hostname:F(E.url),request_type:E.mediaType,request_error_code:S.status,request_error_text:S.statusText});var L="".concat(E!=null&&E.url?"url: ".concat(E.url,"\n"):"")+"".concat(S!=null&&S.status||S!=null&&S.statusText?"response: ".concat(S==null?void 0:S.status,", ").concat(S==null?void 0:S.statusText,"\n"):"");o("error",{player_error_code:d==null?void 0:d.code,player_error_message:d==null?void 0:d.message,player_error_context:L})};t.on("error",p),t._stopMuxMonitor=function(){t.off("manifestLoaded",s),t.off("initFragmentLoaded",k),t.off("mediaFragmentLoaded",c),t.off("qualityChangeRendered",x),t.off("error",p),t.off("fragmentLoadingAbandoned",v),delete t._stopMuxMonitor}},Mt=function(r){r&&typeof r._stopMuxMonitor=="function"&&r._stopMuxMonitor()};var Ht=0,va=function(){"use strict";function r(){D(this,r),l(this,"_listeners",void 0)}return N(r,[{key:"on",value:function(t,i,a){return i._eventEmitterGuid=i._eventEmitterGuid||++Ht,this._listeners=this._listeners||{},this._listeners[t]=this._listeners[t]||[],a&&(i=i.bind(a)),this._listeners[t].push(i),i}},{key:"off",value:function(t,i){var a=this._listeners&&this._listeners[t];a&&a.forEach(function(n,o){n._eventEmitterGuid===i._eventEmitterGuid&&a.splice(o,1)})}},{key:"one",value:function(t,i,a){var n=this;i._eventEmitterGuid=i._eventEmitterGuid||++Ht;var